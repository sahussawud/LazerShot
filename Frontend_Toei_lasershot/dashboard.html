<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="icon" href="./img/favicon.png" type="image/x-icon">
	<script src="https://kit.fontawesome.com/0e0d28628f.js"></script>
	<style>
		@import url('./css/dashboard.css');
	</style>

	<!-- section name "BG" -->
	<div class="stars"></div>
	<div class="twinkling"></div>
	<title>Dashboard</title>
</head>
<body>
	<div class="card table table-hover">
		<br>
		<h2 class="text-center topic">Dashboard</h2>
		<div class="line"></div><br>
		<div class="stage">
			<p class="text-center">STAGE 1</p>
		</div>

		<div class="time text-center">
			<div class="timer">
				<span class="minutes">00</span> : <span class="seconds">00</span>
			</div>        

			<!-- Timer Buttons -->
			<div class="timer-buttons">
				<button class="btn btn-lg" data-action="start">
					Start
				</button>
				<button class="btn btn-lg" data-action="stop">
					Stop
				</button>
				<button class="btn btn-lg" data-action="reset">
					Reset
				</button>
			</div>
		</div><br>

		<div class="probar text-center">
			<div>
				<div class="some-wrapper" data-percentage="100">
					<div class="inner-wrapper">
                     <img src="https://profile.line-scdn.net/0hwx6MKFAeKFcLNAJXpSdXADdxJjp8Gi4fcwZnYylhd2AuAm0HPwZlYnoxc290BTtRPwYyNS1kITQl" alt="profile">
                        <!-- <h1 class="text">100%</h1>
                            <button type="button" class="increment-btn btn">Increment</button> -->
                        </div>
                        <svg class="r-progress-bar" width="200" height="200" viewPort="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg">
                           <circle r="90" cx="100" cy="100" fill="transparent" stroke-dasharray="565.48" stroke-dashoffset="0"></circle>
                           <circle class="bar" r="90" cx="100" cy="100" fill="transparent" stroke-dasharray="565.48" stroke-dashoffset="0"></circle>
                       </svg>
                <!-- <div class="some-wrapper">
                     <div class="inner-wrappers">
                        <h1 class="text">100%</h1>
                        <button type="button" class="increment-btn btn">Increment</button>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
    <br>
    <br>
    <div class="score text-center">
        <span>SCORE : XX</span>
    </div>
    <br>
    <div class="line1"></div><br>
    <!-- <div class="actions"> -->
        <div class="text-center">
            <div class="follow-btn">
                <button onclick="window.location.href='https://www.it.kmitl.ac.th/~it61070245/lasershot/index.html'">Back To Home</button>
            </div>
            <!--   </div> -->
            <br>
        </div>
    </div>

    <!-- <script src="./script/script.js"></script> -->
    <script type="text/javascript">
        // grab what we need
        const startButton = document.querySelector('[data-action="start"]');
        const stopButton  = document.querySelector('[data-action="stop"]');
        const resetButton = document.querySelector('[data-action="reset"]');
        const minutes     = document.querySelector('.minutes');
        const seconds     = document.querySelector('.seconds');
        var second = 0;
        let timerTime     = 0;
        let isRunning     = false;
        let interval;


        function startTimer() {
        	if (isRunning) return;

        	isRunning = true;
        	interval  = setInterval(incrementTimer, 1000);
        }
        function stopTimer() {
        	if (!isRunning) return;

        	isRunning = false;
        	clearInterval(interval);
        }
        function resetTimer() {
        	timerTime         = 0;
        	minutes.innerText = '00';
        	seconds.innerText = '00';
        }

        function incrementTimer() {
        	timerTime++;

        	const numberOfMinutes = Math.floor(timerTime / 60);
        	const numberOfSeconds = timerTime % 60;

        	minutes.innerText     = pad(numberOfMinutes);
        	seconds.innerText     = pad(numberOfSeconds);
        	second+=1;
        }

            // Ternary Operator
            function pad(number) {
            	return (number < 10) ? '0' + number : number;
            }

            startButton.addEventListener('click', startTimer);
            stopButton.addEventListener('click', stopTimer);
            resetButton.addEventListener('click', resetTimer);

            var $circle = document.querySelector('.r-progress-bar > .bar');
            var $wrapper = document.querySelector('.some-wrapper');
            var $text = document.querySelector('.some-wrapper > .inner-wrapper > .text');
            var $btn = document.querySelector('.some-wrapper > .inner-wrapper > .increment-btn');

            $btn.addEventListener('click', function(evt) {
            	var val = incrementProgress(
            		$wrapper.getAttribute('data-percentage')
            		);
            	var r = $circle.getAttribute('r');
            	var c = Math.PI * (r * 2);
            	var pct = ((100 - val) / 100) * c;
            	
            	$circle.style.strokeDashoffset = pct;
            	$text.innerText = val + '%';
            	$wrapper.setAttribute('data-percentage', val);
            });

            function incrementProgress(val) {
            	val = parseInt(val, 10);
            	var min = 2;
            	var max = 25;
            	var incremented;
            	
            	return (incremented = val + random(min, max)) >= 100
            	? 0
            	: incremented;
            }

            function random(min, max) {
            	return Math.floor(Math.random() * (max - min) + min);
            }
        </script>
        <section>
        	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        </section>
    </body>
    </html>